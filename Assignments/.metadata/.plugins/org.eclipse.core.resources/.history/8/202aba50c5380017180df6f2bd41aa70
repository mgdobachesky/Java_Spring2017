package application;

import customExceptions.*;

public class WarCardGame {
	// Class Properties
	public static final int NUMBER_OF_PLAYERS = 2;
	Player human = new Player();
	Player computer = new Player();
	
	// New game constructor
	public WarCardGame() {
		try {
			DeckOfCards deck = new DeckOfCards();
			deck.shuffle();
			handoutCards(deck);
		} catch(DeckException e) {
			System.out.println("Deck configured incorrectly");
		}
	}
	
	// Helper methods
	private void handoutCards(DeckOfCards deck) {
		try {
			for(int i = 0; i < DeckOfCards.DECK_SIZE; i++) {
				if(human.getCards().size() <= computer.getCards().size()) {
					human.addToCards(deck.getDeck().removeLast());
				} else {
					computer.addToCards(deck.getDeck().removeLast());
				}
			}
		} catch(PlayerException e) {
			System.out.println("Could not evenly distribute cards");
		}
	}
	
	// Class methods
	public void playRound() {
		try{
			Card humansCard = human.playCard();
			Card computersCard = computer.playCard();
			if(humansCard.getValue() > computersCard.getValue()) {
				human.addToCards(humansCard);
				human.addToCards(computersCard);
			} else if(computersCard.getValue() > humansCard.getValue()) {
				computer.addToCards(humansCard);
				computer.addToCards(computersCard);
			}
			
		} catch(PlayerException e) {
			System.out.println("No cards to play");
		}
	}
	
	// Main for WarCardGame testing
		public static void main(String[] args) {
			// Create a deck and use it to play war
			WarCardGame war = new WarCardGame();
			
			war.human.print();
			war.computer.print();
		}
}
